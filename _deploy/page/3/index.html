
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>/home/jeff/blog</title>
  <meta name="author" content="jeff">

  
  <meta name="description" content="I ended up passing out on top of the sheets in the hotel due to the tired state in which I arrived, but today was full of plenty of excitement and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jbuchbinder.com/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="/home/jeff/blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11867051-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">/home/jeff/blog</a></h1>
  
    <h2>Sucking away valuable moments of your life ...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jbuchbinder.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/music">Music</a></li>
  <li><a href="/pets">Pets</a></li>
  <li><a href="/quotes">Quotes</a></li>
  <li><a href="/studio">Studio</a></li>
  <li><a href="/wishlist">Wishlist</a></li>
  <li><a href="/in-memoriam">In Memoriam</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/09/20/xela-day-two-a-tale-of-two-servers/">Xela Day Two: A Tale of Two Servers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-20T00:00:00-04:00" pubdate data-updated="true">Sep 20<span>th</span>, 2010</time>
        
         | <a href="/2010/09/20/xela-day-two-a-tale-of-two-servers/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I ended up passing out on top of the sheets in the hotel due to the tired state in which I arrived, but today was full of plenty of excitement and activity.</p>

<p>We walked down to the clinic after breakfast from the nice people at <a href="http://www.comeseeit.com/">Casa Mañen</a>. The clinic is, to my knowledge, the only permanent free clinic in Xela, and has a few permanent staff members in addition to the volunteers who come down with the “medical brigades” (as Jonathan calls them). I spent the majority of the morning organizing components and parts for the systems after American Airlines confirmed that they found our primary server and that it would be here Tuesday morning (tomorrow). My sister Shelley went with me, as my Spanish is just about as good as my Greek (which is to say, non-existent). We were able to ride the “micro buses” to take us out to purchase a SIM card for the T-mobile Android phone which my sister-in-law loaned me for the trip, as well as scoring some replacement parts and some webcams.</p>

<p>As a quick aside, if you’re looking for Ubuntu support for the “Manhattan USB Webcam”, don’t. It uses the gspca driver’s pixart_pac7311 driver, from what I can divine, but the USB ids aren’t present in the stock driver, so it’s going to be a fairly painful process to get support worked in, especially since the gspca is in the mainline kernel now …</p>

<p>Getting back to the day’s events — We were lucky to have taken the microbuses, at a bargain rate of 1.25 quetzals a person, since it started raining again. I, of course, had no rain gear, but my backpack is/was waterproof, so the laptop and camera remained safe. Everyone was amazingly friendly, even to the point of walking us to a store when we didn’t understand their directions. I also tried to be friendly with a few of the feral dogs, but they mostly kept their distance, probably because I didn’t give them any food. Better that way, Natasha wouldn’t be very happy with me bringing home another dog.</p>

<p>In the afternoon, we set up the four donated workstations in the clinic, but rearranged them to function as inventory collection workstations for the pharmacy for some short term data collection, mostly due to the clinic being open and overbooked on Tuesday. We used <a href="http://docs.google.com/">Google Docs</a> to create a quick and dirty web form with some simple constraints as a frontend to a shared spreadsheet for drug collection. This was done since we still don’t have the primary server, and I decided on “bulk loading” the drug data into the system later on, to save entry time.</p>

<p>I have learned a great deal from the clinic staff and volunteers about not only clinic and pharmacy work, but also about some of the problems with operating in conditions which are less than optimal, including so-called “distance medicine” work in extremely rural areas. Tuesday, I’m planning on observing the clinic operation to see if I can streamline any parts of the interface to help facilitate ease of workflow and smooth adoption a little. Wednesday, we’re headed to the pueblos outside Xela so that I can watch the distance medicine teams, and attempt to figure out the best way to bring in data (as well as provide access to data) in extremely remote and poorly connected areas.</p>

<p>I’m struck with just how much I have in common with the doctors, nurses and other volunteers here in Xela; they all seem to have a pervading sense of need for social justice and feel that a little effort can make a difference. I wish there were more people willing to staff places like this.</p>

<p>In comparison, there are shops here selling American goods and foods at prices that are on parity, considering the exchange rate to dollars, with what they would cost in America. Then I realize that the average pay here in Xela is something like 35 to 40 quetzals … a week. (That’s something like five American dollars.) Once you start to think about that, the social support systems in America don’t really seem that bad. We spend a lot of our time taking for granted things like <a href="http://en.wikipedia.org/wiki/Americans_with_Disabilities_Act_of_1990">even and well maintained sidewalks</a>, <a href="http://www.epa.gov/air/caa/">relatively clean air through use of emission controls</a>, and even basic animal control… Guess you don’t miss them until you visit a place that doesn’t have them.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/09/19/xela-day-one-planes-trains-and-automobiles/">Xela Day One: Planes, Trains and Automobiles</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-19T00:00:00-04:00" pubdate data-updated="true">Sep 19<span>th</span>, 2010</time>
        
         | <a href="/2010/09/19/xela-day-one-planes-trains-and-automobiles/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>As part of setting up the <a href="http://www.popwujclinic.org/">POP-WUJ Clinic</a> in Xela, Guatemala with an electronic medical record, I have headed down with a team of ten other volunteers to the city of <a href="http://en.wikipedia.org/wiki/Quetzaltenango">Xela</a> in western Guatemala. I’m going to document the trip and the work we’re doing down here by a series of daily blog entries chronicling our trials and tribulations setting up and installing <a href="http://freemedsoftware.org">FreeMED</a> there. I’ll post pictures as soon as I get the chance to upload them to Flickr.</p>

<p><strong>Day One: Planes, Trains, and Automobiles</strong></p>

<p>We left Connecticut last night around 11:00-11:30pm, and picked my sister up in upper Manhattan a few hours later. Along with us were a few Rackable Systems servers, kindly donated by SGI and some laptops donated by my employer, as well as an assortment of donated medications and medical supplies. Shelley flew out on a separate airline from us, but we all ended up arriving in Guatemala City around 12:15 pm local time.</p>

<p>From there on in, we took a chartered bus/van the 170 km from Guatemala City to Xela, through the mountains. It’s pretty poor in a lot of these areas, but what struck me as odd were the armed guards at convenience stores and banks, as well as the razor wire surrounding those same banks. There were also a lot of stray dogs, some in packs, some idly following people around looking for scraps. The “chicken buses” were old US school buses which had received chrome and paint jobs, usually packed with riders, even to the point of having the overflow spilling out the doors. Our driver Pedro was very nice, and took us to a restaurant on the “Intra American Highway”, which served delicious food.</p>

<p>American Airlines lost one of the bags, unfortunately containing the primary server. I’m planning on deploying the workstations we brought with us and doing any additional wiring which may be required. After that, if the bag hasn’t surfaced, I’ll promote what was supposed to be the redundant backup server to the role of being the primary EMR server and will proceed with the remaining steps of our installation. The POP-WUJ crew is able to give me help doing translation work for the EMR, as well as fleshing out the necessary functions of their day-to-day workflow. Hopefully, we can fine-tune the system to work like a well-oiled machine.</p>

<p>It looks as though choosing Rackable Systems is going to pay off, as I’m most likely going to finish up configuring the backup server using the serial console “roamer” port with my handy USB to serial adapter and null modem cable.</p>

<p>Thanks to Google Voice and Google Talk, I’m able to communicate with friends and family back in the states without breaking the bank, and they can contact me. On the downside, I miss my wife, and I’m sure she, along with the dogs and cat, misses me too.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/06/04/the-evils-of-adjustable-rate-mortgages/">The Evils of Adjustable Rate Mortgages</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-04T00:00:00-04:00" pubdate data-updated="true">Jun 4<span>th</span>, 2010</time>
        
         | <a href="/2010/06/04/the-evils-of-adjustable-rate-mortgages/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I was talking with someone this morning about ARMs and the sort of financial havoc they have been wreaking upon a population who was assured that they would be able to refinance before the “adjustable” portion of the mortgage kicked in. During that conversation, I realized the reason why banks were so interested in getting people into ARMs, and it didn’t really have anything to do with trying to weasel houses away from people.</p>

<p>Adjustable Rate Mortgages usually have a rate adjustment that kicks in after a few years. Quoting the fed: “With most ARMs, the interest rate and monthly payment change every month, quarter, year, 3 years, or 5 years. The period between rate changes is called the adjustment period. For example, a loan with an adjustment period of 1 year is called a 1-year ARM, and the interest rate and payment can change once every year; a loan with a 3-year adjustment period is called a 3-year ARM.”</p>

<p>These “financial products” have been sold with the idea that buyers would want to refinance with a traditional “fixed rate” mortgage before the adjustable period kicks in. For borrowers who would not otherwise qualify for a traditional mortgage, this gave a way to increase credit score through timely mortgage payments as well as the ability to “own” a house. (Not that any of this stuff is “owned” until the bank isn’t able to take it away for sometimes arbitrary reasons, but whatever…)</p>

<p>I contend that their intent is to keep people from owning (and I do mean owning as in “don’t owe the bank money”) their own house by minimizing the amount of potential equity in their houses. They can accomplish this by the way that mortgages work — at the beginning, virtually none of your monthly payment is applied to the principal (increasing equity), and at the end, almost all of it is applied to the principal. But — what if you never were able to get beyond a few years in a mortgage, as banks push for loans which have to be refinanced quickly to avoid financial penalties? This way, banks get your monthly payments and have to yield very little equity before the loan is renewed or sold to another vendor, at which point the bank receives the remainder of the money beyond the smidgen of equity they have yielded to the borrower. It’s almost like printing money. And we bailed these guys out, why?</p>

<p><em>In addition, my “financial advisor” pointed out that in order to refinance, if you obtain an new loan for the exact amount to payoff the existing mortgage you still have to suck out more equity because with closing costs, points, new mortgage title insurance, et cetera. You are going to end up borrowing an additional four to seven thousand dollars more just to get out of the old deal, not including any fees for pre-payment penalties. So, often times people are just stuck because they don’t have sufficient equity to refinance, or the cash reserve to refinance out of the deal (especially with the 80/20 deals that were so popular in the early 2000s).</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/05/21/designing-applications-for-clustering/">Designing Applications for Clustering</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-21T00:00:00-04:00" pubdate data-updated="true">May 21<span>st</span>, 2010</time>
        
         | <a href="/2010/05/21/designing-applications-for-clustering/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I have been recently been trying to redesign <a href="http://freemedsoftware.org">FreeMED</a> (my opensource GPL’d EMR/PM system) in order to work in a “clustered” environment, so that I could support scenarios where multiple application servers were load-balanced to handle larger quantities of traffic. The latest piece of this has been to move filesystem-based storage into the database layer so that I don’t have to mess around with clustered file storage and replication. Some of the highlights of this have been:</p>

<ul>
<li><strong>Database-based session handling</strong> – At least when dealing with stateless applications like FreeMED, session information has a bad habit of being confined to the local filesystem. We ended up using PEAR’s HTTP_Session2 to support database-backed sessions. I can’t help but think this would be so much easier using JAAS …</li>
<li><strong>API abstraction</strong> – Don’t write this one off too quickly. A good API layer means that whenever you have to make these sweeping changes, you’re only playing with a few files of source code, as opposed to completely rewriting a good chunk of your codebase. Without the few layers of API which I had been using, I would not have been able to implement the database backed information store which I just completed.</li>
<li><strong>Database backed file store</strong> – This was the part I had just finished up. Storing files locally and relying on filesystem-based replication from some of the new clustering filesystems may *seem* like a good idea, but it’s not. Database gives you a single authoritative source, and unless we’re looking at multi-gigabyte files, there should not be an appreciable toll. Besides, you indexed your tables properly, right … ?</li>
<li><strong>Design for concurrency</strong> – That record locking may seem like a pain, but two people working on the same object can be catastrophic. Take the time to add a locking field if you have to.</li>
<li><strong>Singletons</strong> – Take “singleton” processes into account, so you’re only running a single iteration of something which can only be run once.</li>
</ul>


<p>Those are the major bullet points, although I’m sure that upon review of this, I’ll think of some other design paradigms I had to play with to get this to function properly. Off to enjoy the weekend …</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/25/updated-linux-support-for-ads-dvd-xpress-dx2/">Updated: Linux Support for ADS DVD Xpress DX2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-25T00:00:00-04:00" pubdate data-updated="true">Mar 25<span>th</span>, 2010</time>
        
         | <a href="/2010/03/25/updated-linux-support-for-ads-dvd-xpress-dx2/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>In 2007, I had posted a patch for the <a href="http://www.adstech.com/products/USBAV-709-EF/intro/USBAV-709_intro.asp?pid=USBAV-709-EF">ADS DVD Xpress DX2</a> device to work on Linux, but it had been based on an antiquated kernel version, etc.</p>

<p>Since then, <a href="http://go7007.imploder.org/">someone</a> was nice enough to post an updated version of the driver, but without DVD Xpress DX2 support. I put together a patch which ensures that the drivers now compile and use the new I2C and V4L2 APIs. I can’t guarantee that it works, only that it compiles the driver properly now. Theoretically it should work, but I can’t find my DVD Xpress DX2 to try out the hardware properly.</p>

<p>Original driver : <br/>
Patch :</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/02/succumbing-to-the-camera-phone/">Succumbing to the Camera Phone</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-02T00:00:00-05:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2010</time>
        
         | <a href="/2010/03/02/succumbing-to-the-camera-phone/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I do not like camera phones in the same way that I don’t particularly care for flash photography; you can produce good results (or at least passable results) with either, but the majority of stuff that comes out of it is just pure crap.</p>

<p>I recently moved to one of Sprint’s CDMA Android offerings, the HTC Hero. I just finished the <a href="http://geekfor.me/">flashing/rooting process</a>, since I don’t particularly care for devices that try to lock me out of their own functionality. (The key to doing this with the “newer” Sprint CDMA Hero phones is apparently using an older version of the recovery image and making sure you have enough available memory to run the image flash, but that’s beside the point.) This particular device came with a 5 megapixel built-in camera, and though I know that <a href="http://forum.digitalcamerareview.com/showthread.php?p=5354">resolution != quality</a>, it does seem to produce *passable* images. Not great, but passable. I’m hoping to see an improvement when the CDMA Hero sees “official” <a href="http://phandroid.com/2010/02/16/sprint-hero-moment-getting-android-2-1-early-2q10/">Android 2.1 support</a>. This OS version fragmentation is bunk, but at least I can upgrade as soon as the pieces are available for another model. <a href="http://www.engadget.com/2009/02/18/editorial-ten-reasons-why-windows-mobile-6-5-misses-the-mark/">Suck that, closed source technology</a>.</p>

<p>Am I giving up the <a href="http://www.usa.canon.com/consumer/controller?act=ModelInfoAct&amp;fcategoryid=139&amp;modelid=17779">40D</a>? Hell emphatically *no*. But I can capture a few things I might miss fumbling for the camera bag. At least, I hope I can.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/31/jasperwrapper/">JasperWrapper</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-31T00:00:00-05:00" pubdate data-updated="true">Jan 31<span>st</span>, 2010</time>
        
         | <a href="/2010/01/31/jasperwrapper/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I have just wrapped up (no pun intended) work on an initial version of a CLI <a href="http://jasperforge.org/projects/jasperreports">JasperReports</a> wrapper, based heavily off the work of <a href="http://jasperforge.org/plugins/project/project_home.php?group_id=97">jasperCall</a>. It’s also quite similar to the work being done on <a href="http://code.google.com/p/runjasperreports/">RunJasperReports</a>, although it was specifically designed to be integrated into <a href="http://freemedsoftware.org/">FreeMED’s</a> reporting engine, as it is put together as a fatjar. It currently supports PDF, XML, XLS and HTML output, and should theoretically support parameter passing, though I haven’t tried it out yet. It has a newer version of <a href="http://www.mysql.com/products/connector/">MySQL Connector/J</a> baked in as well, so it shouldn’t require any external libraries outside a standard JRE install to function properly.</p>

<p>The code can be check out of anonymous Subversion from  if anyone is interested in building it. (It obviously should require Java 6 JDK to compile properly.) Hopefully I’ll get around to tagging and releasing versions of it for download shortly, if anyone shows interest in it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/30/the-adventures-of-buckaroo-banzai-across-the-eighth-dimension/">The Adventures of Buckaroo Banzai Across the Eighth Dimension</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-30T00:00:00-05:00" pubdate data-updated="true">Jan 30<span>th</span>, 2010</time>
        
         | <a href="/2010/01/30/the-adventures-of-buckaroo-banzai-across-the-eighth-dimension/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I’ve decided to do a little feature on films that I liked for one reason or another, and to start out, I have chosen a scifi/comedy flick from the 1980s called <a href="http://www.imdb.com/title/tt0086856/">The Adventures of Buckaroo Banzai Across the Eighth Dimension</a>.</p>

<p>It’s a pretty funny send-up of scifi movies which take themselves too seriously. I think that after watching it, it’s pretty apparent that none of the actors were told that it was supposed to be a comedy. Peter Weller plays the entire movie completely straight, which makes his lines all the funnier. John Lithgow was very funny, in his strange and quirky way.</p>

<p>It was apparently very difficult for the studio that owned it to release “Buckaroo Banzai” because of some legal issues, but it finally made it to DVD in the last few years.</p>

<ul>
<li><a href="http://www.imdb.com/title/tt0086856/">iMDB Link</a></li>
<li><a href="http://www.netflix.com/Movie/The_Adventures_of_Buckaroo_Banzai/60021712">Netflix Link</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/29/openbsd-pf-states-monitoring/">OpenBSD Pf States Monitoring</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-29T00:00:00-05:00" pubdate data-updated="true">Jan 29<span>th</span>, 2010</time>
        
         | <a href="/2010/01/29/openbsd-pf-states-monitoring/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>The simple recipe is to add this to root’s cron:</p>

<p><code>
* * * * * /usr/bin/gmetric -c /etc/gmond.conf -n pf_states -v $(/usr/local/sbin/pftop -b | grep pfTop | cut -d/ -f2 | cut -d, -f1) -t int32 -d 120 2&gt;&amp;#038;1 | logger -t pf_states
</code></p>

<p>and install the <strong>pftop</strong> package along with a gmetric binary and a working <strong>/etc/gmond.conf</strong> configuration file. It might be advantageous to check for the maximum number of states as well.</p>

<p>In addition, you might want to know which pf rules are passing how much traffic. A nice easy way of doing this is to create this file as <strong>./pfstates</strong> (make it executable, of course):</p>

<pre><code>#!/usr/bin/perl
# pfstates
# jeff@ourexchange.net
my $limit = shift  || 0;

my $seg = 0;
my @s = [];

while (chomp( my $line = )) {
        $s[$seg] = $line;               
        if ($seg == 2) {
                $seg = 0;
                if ($s[1] !~ /States: 0/) {
                        my $states = 0;
                        if ($s[1] =~ m/States: (d )/) {
                                $states = $1;
                        }
                        if ($states &gt;= $limit) {
                                print "[$states] $s[0]n";
                        }
                }
        } else {
                $seg  ;
        }
}
</code></pre>

<p>…. then you would pipe pfctl’s state output to it:</p>

<pre><code>pfctl -v -s rules | ./pfstates
</code></pre>

<p>Optionally you could add a “minimum level” of connections you want to see:</p>

<pre><code>pfctl -v -s rules | ./pfstates 100
</code></pre>

<p>for example to see only rules passing 100 or more active connections.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/22/backing-up-mapi-contacts-and-calendar-from-exchange-server/">Backing Up MAPI Contacts and Calendar From Exchange Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-22T00:00:00-05:00" pubdate data-updated="true">Jan 22<span>nd</span>, 2010</time>
        
         | <a href="/2010/01/22/backing-up-mapi-contacts-and-calendar-from-exchange-server/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1></h1>

<p>I have a hate/hate relationship with Exchange Server. I hate it, and I’m pretty sure it hates me.</p>

<p>Why someone would design a system to expose every bit of data for a system through a nice standard protocol like IMAP, then only allow certain things to be viewed through a piece of crap proprietary protocol like MAPI just boggles the mind. I’m sure it’s part of their “vendor lock-in” thing, but it just pisses me off.</p>

<p>Anyway, I found out that to completely backup an Exchange account (as I have been doing over the last week or so for different accounts), you also have to backup the non-mail portions. I ended up using a deprecated library called <a href="http://jakarta.apache.org/slide/clientjavadoc/overview-summary.html">Jakarta Slide</a> for WebDAV client support, which helpfully came with a <strong>SearchMethod</strong> call which was capable of running the specialized XML query required to backup the data.</p>

<p>The XML I ended up using was:</p>

<pre><code>SELECT * FROM "URL"
</code></pre>

<p>in case anyone is interested. Again, I have a fatjar of this utility, but I have to check with work to make sure they’re okay with me releasing it before I can post it anywhere.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/03/gear-vs-skill/">Gear vs Skill</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/12/heading-to-the-2013-boston-international-film-festival/">Heading to the 2013 Boston International Film Festival</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/02/migrating-to-octopress/">Migrating to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/2012/11/06/election-2012-summary/">Election 2012 Summary</a>
      </li>
    
      <li class="post">
        <a href="/2012/11/05/imaginary-horserace-2012-edition/">Imaginary Horserace, 2012 Edition</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/categories/android-development/'>Android Development (1)</a></li>
<li class='category'><a href='/categories/cinematography/'>Cinematography (2)</a></li>
<li class='category'><a href='/categories/development/'>Development (32)</a></li>
<li class='category'><a href='/categories/film/'>Film (1)</a></li>
<li class='category'><a href='/categories/freemed/'>FreeMED (24)</a></li>
<li class='category'><a href='/categories/hacks/'>Hacks (26)</a></li>
<li class='category'><a href='/categories/maemo-n800-/'>Maemo (N800) (1)</a></li>
<li class='category'><a href='/categories/music/'>Music (14)</a></li>
<li class='category'><a href='/categories/opinion/'>Opinion (10)</a></li>
<li class='category'><a href='/categories/photography/'>Photography (6)</a></li>
<li class='category'><a href='/categories/remember-no-one-cares/'>Remember, No One Cares (82)</a></li>
<li class='category'><a href='/categories/uncategorized/'>Uncategorized (3)</a></li>
<li class='category'><a href='/categories/video-and-animation/'>Video and Animation (3)</a></li>

  </ul>
</section>
<section>
  <h1>Links</h1>
  <ul>
    <li><a href="http://www.flickr.com/photos/whatsyourmeme/">Photos @ Flickr</a></li>
    <li><a href="http://irv.ourexchange.net/">Redline Doc</a></li>
<!--
    <li><a href=""></a></li>
&#8211;>
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jbuchbinder">@jbuchbinder</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jbuchbinder',
            count: 10,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/whatsyourmeme?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/whatsyourmeme">My Delicious Bookmarks &raquo;</a></p>
</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - jeff -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jbuchbinder';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
