
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Deploying GWT Applications with Jetty - /home/jeff/blog</title>
  <meta name="author" content="jeff">

  
  <meta name="description" content="I’m not a big fan of tomcat, preferring Jetty where possible. Unfortunately there are a lot of catches involved with getting GWT applications &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jbuchbinder.com/2008/03/01/deploying-gwt-applications-with-jetty">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="/home/jeff/blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta property="fb:app_id" content="159544250739435" />


  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-11867051-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">/home/jeff/blog</a></h1>
  
    <h2>Sucking away valuable moments of your life ...</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jbuchbinder.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/music">Music</a></li>
  <li><a href="/pets">Pets</a></li>
  <li><a href="/quotes">Quotes</a></li>
  <li><a href="/studio">Studio</a></li>
  <li><a href="/wishlist">Wishlist</a></li>
  <li><a href="/in-memoriam">In Memoriam</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Deploying GWT Applications With Jetty</h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-01T00:00:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2008</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h1></h1>

<p>I’m not a big fan of tomcat, preferring <a href="http://www.mortbay.org/">Jetty</a> where possible. Unfortunately there are a lot of catches involved with getting <a href="http://code.google.com/webtoolkit/">GWT</a> applications working. I’ll try to break the changes down here. This assumes that you already have a GWT project built and made with projectCreator which you are migrating into Jetty.</p>

<p>1) Pull the start.jar, bin/jetty.sh script (which will be moved to the base of your distribution), lib and etc directories from your Jetty distribution, and put them in $DIST (your distribution directory)</p>

<p>2) Change your (appname)-shell script to be like the following:<br/>
<strong>JettyTest-shell</strong><br/>
&#8220;</p>

<h1>!/bin/sh</h1>

<p>GWT_HOME=/usr/lib/gwt
ENTRY_POINT=net.cognitiveconsulting.gwt.JettyTest
HOST_PAGE=JettyTest.html
APPDIR=<code>dirname $0</code>;
CPGWT=$APPDIR/src
CPGWT=$CPGWT:$GWT_HOME/gwt-user.jar
CPGWT=$CPGWT:$GWT_HOME/gwt-dev-linux.jar
java -cp $CPGWT com.google.gwt.dev.GWTShell -logLevel DEBUG -noserver -port 8080 &ldquo;$@&rdquo; $ENTRY_POINT/$HOST_PAGE
&#8220;</p>

<p>3) Change your (appname)-compile script to look like:<br/>
<strong>JettyTest-compile</strong><br/>
&#8220;</p>

<h1>!/bin/sh</h1>

<p>APPDIR=<code>dirname $0</code>;
echo &ldquo;Compiling GWT portion of application &hellip; &rdquo;
java  -cp &ldquo;$APPDIR/src:$APPDIR/bin:/usr/lib/gwt/gwt-user.jar:/usr/lib/gwt/gwt-dev-linux.jar&rdquo; com.google.gwt.dev.GWTCompiler -out &ldquo;$APPDIR/webapps&rdquo; &ldquo;$@&rdquo; net.cognitiveconsulting.gwt.JettyTest;
echo &ldquo;Compiling native Java part of application &hellip; &rdquo;
ant -f net.cognitiveconsulting.gwt.JettyTest.ant.xml
echo &ldquo;Moving pieces into Jetty library path &hellip; &rdquo;
( cd bin ; jar cf ../lib/net.cognitiveconsulting.gwt.JettyTest.jar * )
&#8220;</p>

<p>Remember, after this, your output directory is no longer www, it’s now “webapps”.</p>

<p>4) Create the directory $DIST/webapps/(appname)/WEB-INF, and create a web.xml file like this, with the definitions for your remote services:<br/>
<strong>webapps/net.cognitiveconsulting.gwt.JettyTest/WEB-INF/web.xml</strong></p>

<pre><code>[servlet]
    [servlet-name]Test[/servlet-name]
    [servlet-class]net.cognitiveconsulting.gwt.server.TestImpl[/servlet-class]
  [/servlet]

  [servlet-mapping]
    [servlet-name]Test[/servlet-name]
    [url-pattern]/rpc/net.cognitiveconsulting.gwt.client.Test[/url-pattern]
  [/servlet-mapping]
</code></pre>

<p>(Please note that because wordpress ate my XML, I used a different kind of brackets, please substitute as required.)</p>

<p>5) Create the ant build file:<br/>
<code>/usr/lib/gwt/projectCreator -ant net.cognitiveconsulting.gwt.JettyTest</code></p>

<p>6) Make sure you have created working servlets under the internal tomcat implementation before you proceed, making sure that the servlet information is in the .gwt.xml file in your source directory like this:<br/>
&#8220;</p>

<p>7) Make sure that a copy of $GWTDIR/gwt-servlet.jar and any other libraries you are using are installed in $DIST/lib — forget this and nothing is going to work.</p>

<p>8) Create an empty “logs” directory under $DIST.</p>

<p>You should be able to start Jetty at your convenience and browse to the (appname)/(startpage).html page. If you want to pack it as a war, just zip the (appname) directory in $DIST/webapps with a .war extension. Also, running jetty.sh with the parameter “supervise” will allow you to watch the logs as they go by.</p>

<p>Hope this has been informative and helpful.</p>

<p><strong>UPDATE</strong>: <em>Jan, one of the webtide guys, was nice enough to send me an ant build file which does much the same type of thing I was attempting to do here. It is attached <a href="http://jbuchbinder.com/wp-content/uploads/2008/03/build.xml">here</a>, for anyone else who would like a copy.</em></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">jeff</span></span>

      








  


<time datetime="2008-03-01T00:00:00-05:00" pubdate data-updated="true">Mar 1<span>st</span>, 2008</time>
      

<span class="categories">
  
    <a class='category' href='/categories/development/'>Development</a>, <a class='category' href='/categories/hacks/'>Hacks</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://jbuchbinder.com/2008/03/01/deploying-gwt-applications-with-jetty/" data-via="jbuchbinder" data-counturl="http://jbuchbinder.com/2008/03/01/deploying-gwt-applications-with-jetty/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2007/11/21/thanksgiving/" title="Previous Post: Thanksgiving">&laquo; Thanksgiving</a>
      
      
        <a class="basic-alignment right" href="/2008/03/09/modding-that-old-xbox/" title="Next Post: Modding that old XBox">Modding that old XBox &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2013/09/07/to-post-or-not-to-post/">To Post or Not to Post</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/28/skill-in-the-age-of-instagram/">Skill in the Age of Instagram</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/20/the-age-of-dslr-cinematography/">The Age of DSLR Cinematography</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/03/stabilization/">Stabilization</a>
      </li>
    
      <li class="post">
        <a href="/2013/05/03/gear-vs-skill/">Gear vs Skill</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/categories/android-development/'>Android Development (1)</a></li>
<li class='category'><a href='/categories/cinematography/'>Cinematography (6)</a></li>
<li class='category'><a href='/categories/development/'>Development (32)</a></li>
<li class='category'><a href='/categories/film/'>Film (1)</a></li>
<li class='category'><a href='/categories/freemed/'>FreeMED (24)</a></li>
<li class='category'><a href='/categories/hacks/'>Hacks (26)</a></li>
<li class='category'><a href='/categories/maemo-n800-/'>Maemo (N800) (1)</a></li>
<li class='category'><a href='/categories/music/'>Music (14)</a></li>
<li class='category'><a href='/categories/opinion/'>Opinion (11)</a></li>
<li class='category'><a href='/categories/photography/'>Photography (7)</a></li>
<li class='category'><a href='/categories/remember-no-one-cares/'>Remember, No One Cares (81)</a></li>
<li class='category'><a href='/categories/video-and-animation/'>Video and Animation (3)</a></li>

  </ul>
</section>
<section>
  <h1>Links</h1>
  <ul>
    <li><a href="http://www.flickr.com/photos/whatsyourmeme/">Photos @ Flickr</a></li>
    <li><a href="http://irv.ourexchange.net/">Redline Doc</a></li>
<!--
    <li><a href=""></a></li>
-->
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/jbuchbinder">@jbuchbinder</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jbuchbinder',
            count: 10,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/whatsyourmeme?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/whatsyourmeme">My Delicious Bookmarks &raquo;</a></p>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/102632982740363465802?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - jeff -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jbuchbinder';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  //js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  js.src = "//connect.facebook.net/en_US/all.js#appId=159544250739435&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
